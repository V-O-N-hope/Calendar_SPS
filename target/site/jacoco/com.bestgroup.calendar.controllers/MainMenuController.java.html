<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MainMenuController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Calendar</a> &gt; <a href="index.source.html" class="el_package">com.bestgroup.calendar.controllers</a> &gt; <span class="el_source">MainMenuController.java</span></div><h1>MainMenuController.java</h1><pre class="source lang-java linenums">package com.bestgroup.calendar.controllers;

import com.bestgroup.calendar.AppHelper;
import com.bestgroup.calendar.CurrentTime;
import javafx.animation.Animation;
import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.text.Text;
import javafx.util.Duration;
import javafx.scene.control.ComboBox;

/**
 * Controller for MainMenu.fxml
 *
 * @author eviv2206
 * @author l9sik
 */
<span class="nc" id="L20">public class MainMenuController {</span>

	@FXML
	private Button events;

	@FXML
	private ComboBox&lt;String&gt; chooseYear;

	@FXML
	private Button mainMenuAddEventButton;

	@FXML
	private Button mainMenuAprButton;

	@FXML
	private Button mainMenuAugButton;

	@FXML
	private Button mainMenuCurrentDateButton;

	@FXML
	private Button mainMenuDecButton;

	@FXML
	private Button mainMenuFebButton;

	@FXML
	private Button mainMenuJanButton;

	@FXML
	private Button mainMenuJulyButton;

	@FXML
	private Button mainMenuJuneButton;

	@FXML
	private Button mainMenuMarchButton;

	@FXML
	private Button mainMenuMayButton;

	@FXML
	private Button mainMenuNovButton;

	@FXML
	private Button mainMenuOctButton;

	@FXML
	private Button mainMenuSeptButton;

	@FXML
	private Button mainMenuSettingsButton;

	@FXML
	private Text time;

<span class="nc" id="L76">	private final NewScene nw = new NewScene();</span>

    /**
     * Initialize.
     */
    @FXML
	void initialize() {

<span class="nc" id="L84">		Timeline clock = new Timeline(new KeyFrame(Duration.ZERO, e -&gt; time.setText(CurrentTime.getCurrentTime(&quot;UTC+3&quot;))),</span>
<span class="nc" id="L85">				new KeyFrame(Duration.seconds(1))</span>
		);
<span class="nc" id="L87">		clock.setCycleCount(Animation.INDEFINITE);</span>
<span class="nc" id="L88">		clock.play();</span>


<span class="nc" id="L91">		mainMenuCurrentDateButton.setOnMouseClicked(event -&gt; {</span>
<span class="nc" id="L92">			CurrentTime.setYear();</span>
<span class="nc" id="L93">			CurrentTime.setMonthAndDay();</span>
<span class="nc" id="L94">			nw.closeScene(mainMenuCurrentDateButton);</span>
<span class="nc" id="L95">			nw.openNewScene(&quot;/com/bestgroup/calendar/DayMenu.fxml&quot;);</span>
<span class="nc" id="L96">		});</span>

<span class="nc" id="L98">		mainMenuSettingsButton.setOnMouseClicked(event -&gt; {</span>
<span class="nc" id="L99">			nw.closeScene(mainMenuSettingsButton);</span>
<span class="nc" id="L100">			nw.openNewScene(&quot;/com/bestgroup/calendar/Settings.fxml&quot;);</span>
<span class="nc" id="L101">		});</span>

<span class="nc" id="L103">		mainMenuAddEventButton.setOnMouseClicked(event -&gt; {</span>
<span class="nc" id="L104">			CurrentTime.resetDate();</span>
<span class="nc" id="L105">			nw.closeScene(mainMenuAddEventButton);</span>
<span class="nc" id="L106">			nw.openNewScene(&quot;/com/bestgroup/calendar/AddEvent.fxml&quot;);</span>
<span class="nc" id="L107">		});</span>

<span class="nc" id="L109">		chooseYear.getItems().setAll(&quot;2014&quot;, &quot;2015&quot;, &quot;2016&quot;, &quot;2017&quot;, &quot;2018&quot;,</span>
				&quot;2019&quot;, &quot;2020&quot;, &quot;2021&quot;, &quot;2022&quot;, &quot;2023&quot;, &quot;2024&quot;, &quot;2025&quot;, &quot;2026&quot;,
				&quot;2027&quot;, &quot;2028&quot;);

<span class="nc" id="L113">		mainMenuJanButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuJanButton, 1));</span>
<span class="nc" id="L114">		mainMenuFebButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuFebButton, 2));</span>
<span class="nc" id="L115">		mainMenuMarchButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuMarchButton, 3));</span>
<span class="nc" id="L116">		mainMenuAprButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuAprButton, 4));</span>
<span class="nc" id="L117">		mainMenuMayButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuMayButton, 5));</span>
<span class="nc" id="L118">		mainMenuJuneButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuJuneButton, 6));</span>
<span class="nc" id="L119">		mainMenuJulyButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuJulyButton, 7));</span>
<span class="nc" id="L120">		mainMenuAugButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuAugButton, 8));</span>
<span class="nc" id="L121">		mainMenuSeptButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuSeptButton, 9));</span>
<span class="nc" id="L122">		mainMenuOctButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuOctButton, 10));</span>
<span class="nc" id="L123">		mainMenuNovButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuNovButton, 11));</span>
<span class="nc" id="L124">		mainMenuDecButton.setOnAction(actionEvent -&gt; openMonthMenu(mainMenuFebButton, 12));</span>
<span class="nc" id="L125">		events.setOnAction(actionEvent -&gt; {</span>
<span class="nc" id="L126">			nw.closeScene(events);</span>
<span class="nc" id="L127">			nw.openNewScene(&quot;/com/bestgroup/calendar/Events.fxml&quot;);</span>
<span class="nc" id="L128">		});</span>


<span class="nc" id="L131">	}</span>

    /**
     * Opens fxml file and sets month-variable in AppHelper class
     *
     * @param btn      button that had been pushed
     * @param monthNum number of month (starts from 1)
     * @see AppHelper#setMonthNumber(int) AppHelper#setMonthNumber(int)
     */
    void openMonthMenu(Button btn, int monthNum) {
<span class="nc" id="L141">		boolean isYear = isYear();</span>
<span class="nc bnc" id="L142" title="All 2 branches missed.">		if (!isYear) {</span>
<span class="nc" id="L143">			nw.openNewScene(&quot;/com/bestgroup/calendar/FailedChoosingYear.fxml&quot;);</span>
		} else {
<span class="nc" id="L145">			AppHelper.setMonthNumber(monthNum);</span>
<span class="nc" id="L146">			AppHelper.setYear(Integer.parseInt(chooseYear.getValue()));</span>
<span class="nc" id="L147">			nw.closeScene(btn);</span>
<span class="nc" id="L148">			nw.openNewScene(&quot;/com/bestgroup/calendar/Month.fxml&quot;);</span>
		}
<span class="nc" id="L150">	}</span>

    /**
     * Checks if year was chosen
     *
     * @return true if the year had been chosen
     */
    Boolean isYear() {
<span class="nc" id="L158">		boolean isYear = true;</span>
		try {
<span class="nc" id="L160">			Integer.parseInt(chooseYear.getValue());</span>
<span class="nc" id="L161">		} catch (NumberFormatException e) {</span>
<span class="nc" id="L162">			isYear = false;</span>
<span class="nc" id="L163">		}</span>
<span class="nc" id="L164">		return isYear;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.7.202105040129</span></div></body></html>